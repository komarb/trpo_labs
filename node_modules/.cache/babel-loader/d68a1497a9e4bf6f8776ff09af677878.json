{"ast":null,"code":"import _classCallCheck from\"/Users/adastras/WebstormProjects/timezones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adastras/WebstormProjects/timezones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/adastras/WebstormProjects/timezones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/adastras/WebstormProjects/timezones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/adastras/WebstormProjects/timezones/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import ReactDOM from'react-dom';import{timezones}from\"./timezones\";var MyTimezonePicker=/*#__PURE__*/function(_React$Component){_inherits(MyTimezonePicker,_React$Component);var _super=_createSuper(MyTimezonePicker);function MyTimezonePicker(props){var _this;_classCallCheck(this,MyTimezonePicker);_this=_super.call(this,props);_this.timezoneOptions=timezones.map(function(timezone){return/*#__PURE__*/React.createElement(\"option\",{value:timezone.offset},timezone.text);});_this.state={offset:-12};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(MyTimezonePicker,[{key:\"handleChange\",value:function handleChange(event){var _this2=this;this.setState({offset:event.target.value},function(){_this2.props.offsetHandler(_this2.state.offset);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"select\",{onChange:this.handleChange},this.timezoneOptions);}}]);return MyTimezonePicker;}(React.Component);var Clock=/*#__PURE__*/function(_React$Component2){_inherits(Clock,_React$Component2);var _super2=_createSuper(Clock);function Clock(props){var _this3;_classCallCheck(this,Clock);_this3=_super2.call(this,props);_this3.state={date:new Date(),offsetDate:new Date()};return _this3;}_createClass(Clock,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;this.timerID=setInterval(function(){return _this4.tick();},1000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearInterval(this.timerID);}},{key:\"tick\",value:function tick(){var OD=new Date();OD.setHours(OD.getUTCHours()+parseInt(this.props.offset));this.setState({date:new Date()});this.setState({offsetDate:OD});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"It is \",this.state.date.toLocaleTimeString(),\" in Moscow.\"),/*#__PURE__*/React.createElement(\"h2\",null,\"It is \",this.state.offsetDate.toLocaleTimeString(),\" in\"));}}]);return Clock;}(React.Component);var App=/*#__PURE__*/function(_React$Component3){_inherits(App,_React$Component3);var _super3=_createSuper(App);function App(props){var _this5;_classCallCheck(this,App);_this5=_super3.call(this,props);_this5.state={offset:0};return _this5;}_createClass(App,[{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Clock,{offset:this.state.offset}),/*#__PURE__*/React.createElement(MyTimezonePicker,{offsetHandler:function offsetHandler(off){_this6.setState({offset:off});}}));}}]);return App;}(React.Component);ReactDOM.render(/*#__PURE__*/React.createElement(App,null),document.getElementById('root'));","map":{"version":3,"sources":["/Users/adastras/WebstormProjects/timezones/src/index.js"],"names":["React","ReactDOM","timezones","MyTimezonePicker","props","timezoneOptions","map","timezone","offset","text","state","handleChange","bind","event","setState","target","value","offsetHandler","Component","Clock","date","Date","offsetDate","timerID","setInterval","tick","clearInterval","OD","setHours","getUTCHours","parseInt","toLocaleTimeString","App","off","render","document","getElementById"],"mappings":"qyBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAAQC,SAAR,KAAwB,aAAxB,C,GAEMC,CAAAA,gB,gIACF,0BAAYC,KAAZ,CAAmB,kDACf,uBAAMA,KAAN,EACA,MAAKC,eAAL,CAAuBH,SAAS,CAACI,GAAV,CAAc,SAAAC,QAAQ,qBACzC,8BAAQ,KAAK,CAAEA,QAAQ,CAACC,MAAxB,EACKD,QAAQ,CAACE,IADd,CADyC,EAAtB,CAAvB,CAKA,MAAKC,KAAL,CAAa,CAACF,MAAM,CAAE,CAAC,EAAV,CAAb,CACA,MAAKG,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CARe,aASlB,C,+EAEYC,K,CAAO,iBAChB,KAAKC,QAAL,CAAc,CAACN,MAAM,CAAEK,KAAK,CAACE,MAAN,CAAaC,KAAtB,CAAd,CAA4C,UAAM,CAC9C,MAAI,CAACZ,KAAL,CAAWa,aAAX,CAAyB,MAAI,CAACP,KAAL,CAAWF,MAApC,EACH,CAFD,EAGH,C,uCACQ,CACL,mBACI,8BAAQ,QAAQ,CAAE,KAAKG,YAAvB,EACK,KAAKN,eADV,CADJ,CAKH,C,8BAvB0BL,KAAK,CAACkB,S,KA2B/BC,CAAAA,K,6GACF,eAAYf,KAAZ,CAAmB,wCACf,yBAAMA,KAAN,EACA,OAAKM,KAAL,CAAa,CACTU,IAAI,CAAE,GAAIC,CAAAA,IAAJ,EADG,CAETC,UAAU,CAAE,GAAID,CAAAA,IAAJ,EAFH,CAAb,CAFe,cAMlB,C,+EAEmB,iBAChB,KAAKE,OAAL,CAAeC,WAAW,CACtB,iBAAM,CAAA,MAAI,CAACC,IAAL,EAAN,EADsB,CAEtB,IAFsB,CAA1B,CAIH,C,mEAEsB,CACnBC,aAAa,CAAC,KAAKH,OAAN,CAAb,CACH,C,mCAEM,CACH,GAAII,CAAAA,EAAE,CAAG,GAAIN,CAAAA,IAAJ,EAAT,CACAM,EAAE,CAACC,QAAH,CAAYD,EAAE,CAACE,WAAH,GAAoBC,QAAQ,CAAC,KAAK1B,KAAL,CAAWI,MAAZ,CAAxC,EACA,KAAKM,QAAL,CAAc,CAACM,IAAI,CAAE,GAAIC,CAAAA,IAAJ,EAAP,CAAd,EACA,KAAKP,QAAL,CAAe,CAACQ,UAAU,CAAEK,EAAb,CAAf,EACH,C,uCAEQ,CACL,mBACI,4CACI,uCAAW,KAAKjB,KAAL,CAAWU,IAAX,CAAgBW,kBAAhB,EAAX,eADJ,cAEI,uCAAW,KAAKrB,KAAL,CAAWY,UAAX,CAAsBS,kBAAtB,EAAX,OAFJ,CADJ,CAMH,C,mBAlCe/B,KAAK,CAACkB,S,KAqCpBc,CAAAA,G,yGACF,aAAa5B,KAAb,CAAoB,sCAChB,yBAAMA,KAAN,EACA,OAAKM,KAAL,CAAa,CAACF,MAAM,CAAE,CAAT,CAAb,CAFgB,cAGnB,C,uDAEQ,iBACL,mBACI,2BAAK,SAAS,CAAC,KAAf,eACI,oBAAC,KAAD,EAAO,MAAM,CAAE,KAAKE,KAAL,CAAWF,MAA1B,EADJ,cAEI,oBAAC,gBAAD,EAAkB,aAAa,CAAE,uBAAAyB,GAAG,CAAI,CACpC,MAAI,CAACnB,QAAL,CAAc,CAACN,MAAM,CAAEyB,GAAT,CAAd,EACH,CAFD,EAFJ,CADJ,CAQH,C,iBAfajC,KAAK,CAACkB,S,EAkBxBjB,QAAQ,CAACiC,MAAT,cACI,oBAAC,GAAD,MADJ,CAEIC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAFJ","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {timezones} from \"./timezones\";\n\nclass MyTimezonePicker extends React.Component {\n    constructor(props) {\n        super(props);\n        this.timezoneOptions = timezones.map(timezone =>\n            <option value={timezone.offset}>\n                {timezone.text}\n            </option>\n        );\n        this.state = {offset: -12};\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({offset: event.target.value}, () => {\n            this.props.offsetHandler(this.state.offset);\n        });\n    }\n    render() {\n        return (\n            <select onChange={this.handleChange}>\n                {this.timezoneOptions}\n            </select>\n        )\n    }\n}\n\n\nclass Clock extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            date: new Date(),\n            offsetDate: new Date(),\n        };\n    }\n\n    componentDidMount() {\n        this.timerID = setInterval(\n            () => this.tick(),\n            1000\n        );\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.timerID);\n    }\n\n    tick() {\n        let OD = new Date();\n        OD.setHours(OD.getUTCHours()  + parseInt(this.props.offset));\n        this.setState({date: new Date()});\n        this.setState( {offsetDate: OD});\n    }\n\n    render() {\n        return (\n            <div>\n                <h2>It is {this.state.date.toLocaleTimeString()} in Moscow.</h2>\n                <h2>It is {this.state.offsetDate.toLocaleTimeString()} in</h2>\n            </div>\n        );\n    }\n}\n\nclass App extends React.Component {\n    constructor (props) {\n        super(props);\n        this.state = {offset: 0};\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Clock offset={this.state.offset}/>\n                <MyTimezonePicker offsetHandler={off => {\n                    this.setState({offset: off})\n                }}/>\n            </div>\n        )\n    }\n}\n\nReactDOM.render(\n    <App/>,\n    document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}